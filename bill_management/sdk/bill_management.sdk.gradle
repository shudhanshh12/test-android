apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'
apply from: "$rootDir/config.gradle"

android {

    flavorDimensions "server"
    productFlavors {

        staging {
            getIsDefault().set(true)
            dimension "server"
            buildConfigField "String", 'BASE_URL', "\"https://bill.staging.okcredit.in/v1.0/\""
        }

        alpha {
            dimension "server"
            buildConfigField "String", 'BASE_URL', "\"https://bill.alpha.okcredit.in/v1.0/\""
        }

        prod {
            dimension "server"
            buildConfigField "String", 'BASE_URL', "\"https://bill.okcredit.in/v1.0/\""
        }
    }

    buildTypes {
        debug {
            debuggable true
            minifyEnabled false
            testCoverageEnabled project.hasProperty('coverage')
        }
        qa {
            debuggable true
            minifyEnabled true
            consumerProguardFiles 'consumer-rules.pro'
        }

        release {
            debuggable false
            minifyEnabled true
            consumerProguardFiles 'consumer-rules.pro'
        }
    }

}

dependencies {
    implementation project(':auth')
    implementation project(':ab')
    implementation project(':base')
    implementation project(':analytics')
    implementation project(':device')
    implementation project(':shared')
    implementation project(':business:contract')
    implementation project(':suppliercredit')
    implementation project(':communication')
    implementation project(':fileupload')
    implementation project(':camera:camera_contract')
    implementation project(':bill_management:contract')

    implementation utility.guava
    implementation androidX.ktx

    // dagger
    implementation dagger.core
    kapt dagger.androidAnnotationProcessor
    kapt dagger.annotationProcessor
    implementation dagger.android
    implementation dagger.supportLibrary
    kapt dagger.androidAnnotationProcessor
    implementation dagger.inject

    // retrofit
    implementation retrofit.retrofit
    implementation retrofit.gsonConverter
    implementation retrofit.retrofitRxAdapter
    implementation retrofit.moshiConverter
    implementation retrofit.gson
    implementation retrofit.okhttpLoginInterceptor

    // androidx
    implementation androidX.annotation

    // kotlin
    implementation utility.kotlin
    implementation utility.timber
    implementation utility.jodaTime
    implementation utility.trueTime
    implementation utility.guava

    // Moshi
    implementation moshi.core
    kapt moshi.codegen

    // firebase
    implementation firebase.auth
    implementation firebase.firestore
    implementation firebase.uiFirestore
    implementation view.material
    implementation firebase.database

    // play service
    implementation playService.googlePlayAds

    testImplementation unitTest.jUnit
    testImplementation unitTest.truth
    testImplementation unitTest.mockitoCore
    testImplementation unitTest.mockitoInline
    testImplementation unitTest.mockitoKotlin
    testImplementation unitTest.mockk

    // Aws
    implementation aws.awsS3
    implementation arch.room
    implementation arch.roomRx
    kapt arch.roomAnnotationProcessor


}
